# Maryland Universal Financial Navigator (JAWN) - Environment Configuration
# ==========================================================================
# Copy this file to .env and configure the values for your environment

# Core Database (PostgreSQL via Neon) - REQUIRED
DATABASE_URL=postgresql://user:password@host:port/database?sslmode=require

# Security & Encryption - REQUIRED FOR PRODUCTION
ENCRYPTION_KEY=your-32-character-encryption-key-here  # Must be exactly 32 characters for AES-256
SESSION_SECRET=your-session-secret-here              # Random string for session encryption
CSRF_SECRET=your-csrf-secret-here                    # Random string for CSRF protection

# Error Tracking (Sentry) - HIGHLY RECOMMENDED
SENTRY_DSN=https://your-key@sentry.io/project-id
SENTRY_ENVIRONMENT=production                        # or staging, development
SENTRY_TRACES_SAMPLE_RATE=0.1                       # 10% of transactions
SENTRY_PROFILES_SAMPLE_RATE=0.1                     # 10% of transactions

# Distributed Caching (Choose One) - RECOMMENDED FOR PRODUCTION
# Option 1: Standard Redis
REDIS_URL=redis://user:password@host:port/0

# Option 2: Upstash (Serverless Redis)
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# Email Notifications (SMTP) - RECOMMENDED
SMTP_HOST=smtp.gmail.com                            # Or your SMTP provider
SMTP_PORT=587                                       # 587 for TLS, 465 for SSL
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password                         # Use app-specific password
SMTP_FROM_EMAIL=noreply@marylandbenefits.gov       # Sender email address

# AI Services - REQUIRED
GEMINI_API_KEY=your-gemini-api-key                  # Google Gemini API
GOOGLE_API_KEY=your-google-api-key                  # Alternative Google API key

# Policy Engine - REQUIRED
POLICYENGINE_CLIENT_ID=your-policyengine-client-id
POLICYENGINE_CLIENT_SECRET=your-policyengine-secret

# External Services
DATA_GOV_API_KEY=your-data-gov-api-key             # Data.gov API access
TWILIO_ACCOUNT_SID=your-twilio-account-sid         # SMS notifications
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1XXXXXXXXXX                   # Your Twilio phone number

# Google Services
GOOGLE_CALENDAR_CLIENT_ID=your-google-client-id
GOOGLE_CALENDAR_CLIENT_SECRET=your-google-secret
GOOGLE_CALENDAR_REDIRECT_URI=http://localhost:5000/api/auth/google/callback

# Application Settings
NODE_ENV=production                                 # production, staging, development
PORT=5000                                           # Server port
LOG_LEVEL=info                                     # debug, info, warn, error, fatal

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000                         # 1 minute
RATE_LIMIT_MAX_REQUESTS=100                        # Max requests per window

# File Upload Limits
MAX_FILE_SIZE_MB=10                                # Max file size for uploads
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx       # Allowed file extensions

# Maryland-Specific Configuration
MARYLAND_DHS_CONTACT=1-800-332-6347               # Maryland DHS phone number
DEFAULT_TENANT_ID=maryland                         # Default tenant for single-state deployment

# Performance Tuning
DB_CONNECTION_LIMIT=100                            # Max database connections
CACHE_TTL_SECONDS=3600                            # Default cache TTL (1 hour)
POLICY_CACHE_TTL_SECONDS=86400                    # Policy cache TTL (24 hours)

# Feature Flags
ENABLE_AI_INTAKE=true                              # Enable AI intake assistant
ENABLE_VOICE_ASSISTANT=true                        # Enable voice capabilities
ENABLE_SMS_NOTIFICATIONS=true                      # Enable SMS notifications
ENABLE_FRAUD_DETECTION=true                        # Enable fraud detection
ENABLE_PREDICTIVE_ANALYTICS=true                   # Enable predictive analytics

# Monitoring & Observability
PROMETHEUS_METRICS_PORT=9090                       # Prometheus metrics endpoint
HEALTH_CHECK_INTERVAL_MS=30000                    # Health check interval

# Development/Testing (Remove in production)
# DISABLE_RATE_LIMITING=true                       # Disable rate limiting for testing
# DISABLE_CSRF=true                                # Disable CSRF for testing
# DEBUG_SQL=true                                   # Log all SQL queries

# ==========================================================================
# SECURITY NOTES:
# 1. Never commit .env files to version control
# 2. Use strong, randomly generated secrets (min 32 characters)
# 3. Rotate secrets regularly
# 4. Use environment-specific values for each deployment
# 5. Enable all security features in production
# ==========================================================================